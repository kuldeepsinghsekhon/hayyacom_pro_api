(this["webpackJsonpwedding-invitation"]=this["webpackJsonpwedding-invitation"]||[]).push([[0],{215:function(e,t,n){},323:function(e,t,n){},324:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(29),i=n.n(a),r=n(27),s=n(107),o=n(185),l=n(61),j=n(25),d={user:{},activeTab:"dashboard",contacts:[]},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_USER_DATA":return Object(j.a)(Object(j.a)({},e),{},{user:t.payload});case"SET_ACTIVE_TAB":return Object(j.a)(Object(j.a)({},e),{},{activeTab:t.payload});case"SAVE_USER_CONTACTS":return Object(j.a)(Object(j.a)({},e),{},{contacts:t.payload});case"ADD_NEW_CONTACT":var n=e.contacts,c=n.filter((function(e){return e.id===t.payload.id}));if(!c.length)return n.push(t.payload),Object(j.a)(Object(j.a)({},e),{},{contacts:Object(l.a)(n)});break;case"ADD_NEW_CONTACT_BULK":var a=e.contacts;return a=a.concat(t.payload),Object(j.a)(Object(j.a)({},e),{},{contacts:Object(l.a)(a)});case"REMOVE_CONTACT":var i=e.contacts,r=i.findIndex((function(e){return e.id===t.payload}));if(r>-1)return i.splice(r,1),Object(j.a)(Object(j.a)({},e),{},{contacts:Object(l.a)(i)});break;case"EDIT_CONTACT":var s=e.contacts,o=s.findIndex((function(e){return e.id===t.payload.id}));if(o>-1)return s.splice(o,1,t.payload),Object(j.a)(Object(j.a)({},e),{},{contacts:Object(l.a)(s)});break;default:return e}},b={events:[]},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_USER_EVENTS":return Object(j.a)(Object(j.a)({},e),{},{events:t.payload});case"ADD_NEW_EVENT":var n=e.events,c=n.filter((function(e){return e.id===t.payload.id}));if(!c.length)return n.push(t.payload),localStorage.setItem("event",t.payload),Object(j.a)(Object(j.a)({},e),{},{events:Object(l.a)(n)});break;case"REMOVE_EVENT":var a=e.events,i=a.findIndex((function(e){return e.id===t.payload}));if(i>-1)return a.splice(i,1),Object(j.a)(Object(j.a)({},e),{},{events:Object(l.a)(a)});break;case"EDIT_EVENT":var r=e.events,s=r.findIndex((function(e){return e.id===t.payload.id}));if(s>-1)return r.splice(s,1,t.payload),Object(j.a)(Object(j.a)({},e),{},{events:Object(l.a)(r)});break;default:return e}},h={invitations:[]},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_USER_INVITATIONS":return Object(j.a)(Object(j.a)({},e),{},{invitations:t.payload});case"ADD_NEW_INVITATION":var n=e.invitations,c=n.filter((function(e){return e.id===t.payload.id}));if(!c.length)return n.push(t.payload),Object(j.a)(Object(j.a)({},e),{},{invitations:Object(l.a)(n)});break;default:return e}},x=Object(s.b)({UserReducer:u,EventReducer:O,InvitationReducer:m}),v=Object(s.c)(x,Object(s.a)(o.a)),p=(n(214),n(31)),f=(n.p,n(215),n(15)),g=n(32),y=n(329),S=n(331),I=n(44),N=n(33),C=n(186),E=n.n(C),T=n(187),w=n.n(T);function A(){var e=localStorage.getItem("token");return{"Access-Control-Allow-Origin":"*",Authorization:"Bearer ".concat(e)||!1,"Content-Type":"application/json"}}function _(e,t,n,c){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return new Promise((function(i,r){c=Object(j.a)(Object(j.a)({},A()),c),"get"!==n&&"delete"!==n||((t=Object(j.a)(Object(j.a)({},a),{},{params:t,headers:c,data:{}})).paramsSerializer=function(e){return w.a.stringify(e,{arrayFormat:"repeat"})}),E.a[n](e,t,{headers:c}).then((function(e){var t=e.data;return!1===t.status?r(t):i(t)})).catch((function(e){return r(e)}))}))}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=arguments.length>3?arguments[3]:void 0;return _(e,t,"get",n,c)}function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=arguments.length>3?arguments[3]:void 0;return _(e,t,"post",n,c)}function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=arguments.length>3?arguments[3]:void 0;return _(e,t,"patch",n,c)}var M,R,U,q,F,B,z="http://hayyacom.net:3004",J="http://hayyacom.net:3004",L=n(336),G=n(191),W=n(3),P=N.a.div(M||(M=Object(g.a)(["\n   position: fixed;\n    width: 100vw;\n    height: 100vh;\n    background: black url(spinner.gif) center center no-repeat;\n    opacity: 0.5;\n    display: flex;\n    justify-content: center;\n    z-index: 1;\n"]))),H=function(){return Object(W.jsxs)(P,{children:[Object(W.jsx)(L.b,{size:"middle",children:Object(W.jsx)(G.a,{size:"large"})}),","]})},$=n(335),K=N.a.div(R||(R=Object(g.a)(["\n    width: 100%;\n    display: flex;\n    justify-content: flex-end;\n    position: fixed;\n    align-items: flex-start;\n    top: 72px;\n    right: 22px;\n"]))),Q=function(e){return console.log("props",e),Object(W.jsx)(K,{children:Object(W.jsx)($.a,{message:e.message,type:e.type,showIcon:!0,closable:!0})})},Y=n(89),X=n.n(Y),Z=N.a.div(U||(U=Object(g.a)(["\n    height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]))),ee=N.a.div(q||(q=Object(g.a)(["\n    padding: 50px;\n    box-shadow: 3px 4px 10px #9c9999;\n    text-align: center;\n"]))),te=(N.a.a(F||(F=Object(g.a)(["\n    padding: 10px;\n"]))),N.a.h1(B||(B=Object(g.a)(["\n    margin-bottom : 15px;\n"])))),ne=Object(r.b)("",(function(e){return{saveUserData:function(t){return e(function(e){return function(t){t({type:"SAVE_USER_DATA",payload:e})}}(t))}}}))((function(e){var t=Object(c.useState)(""),n=Object(f.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)(!1),s=Object(f.a)(r,2),o=s[0],l=s[1],j=Object(c.useState)(""),d=Object(f.a)(j,2),u=d[0],b=d[1];return Object(W.jsxs)(Z,{children:[o&&Object(W.jsx)(H,{}),a&&Object(W.jsx)(Q,{type:u,message:a}),Object(W.jsxs)(ee,{children:[Object(W.jsx)(te,{children:"Login"}),Object(W.jsxs)(y.a,{name:"basic",initialValues:{remember:!0},onFinish:function(t){var n;i(""),l(!0),(n=t,V("".concat(z,"/auth/login"),n)).then((function(t){l(!1),b("success");var n=t.data,c=t.token;localStorage.setItem("loginUser",JSON.stringify(n)),localStorage.setItem("token",c),e.saveUserData(n),e.history.push("/home")})).catch((function(e){console.log("err",e);var t=e.response.data.message;b("error"),i(t),l(!1)}))},onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(W.jsx)(y.a.Item,{label:"phone Number",name:"phoneNumber",rules:[{required:!0,message:"Please input your number!"}],children:Object(W.jsx)(X.a,{country:"sa"})}),Object(W.jsx)(y.a.Item,{label:"password",name:"password",rules:[{required:!0,message:"test"}],children:Object(W.jsx)(S.a.Password,{})}),Object(W.jsx)(y.a.Item,{children:Object(W.jsx)(I.a,{type:"primary",htmlType:"submit",children:"Submit"})})]})]})]})})),ce=n(326),ae=n(65);var ie,re,se=Object(r.b)((function(e){return{activeTab:e.UserReducer.activeTab}}),(function(e){return{setActiveTab:function(t){return e(function(e){return function(t){t({type:"SET_ACTIVE_TAB",payload:e})}}(t))}}}))((function(e){var t=function(t){e.setActiveTab(t)};return Object(W.jsxs)(ae.a,{mode:e.type,defaultSelectedKeys:[e.activeTab],children:[Object(W.jsx)(ae.a.Item,{onClick:function(){return t("dashboard")},children:Object(W.jsx)("a",{href:"#",children:"Dashboard"})},"dashboard"),Object(W.jsx)(ae.a.Item,{onClick:function(){return t("contacts")},children:Object(W.jsx)("a",{href:"#",children:"Contacts"})},"contacts")]})})),oe=n(134),le=n(133),je=n.n(le),de=n(148),ue=n.n(de),be=(n(174),function(e){var t=Object(c.useState)("en"),n=Object(f.a)(t,2),a=n[0],i=n[1],r=function(){i("en")};return Object(W.jsxs)(ae.a,{mode:e.type,children:[Object(W.jsx)(ae.a.Item,{children:Object(W.jsx)("a",{href:"https://www.instagram.com/hayyacomapp/",children:"Instagram"})},"Instagram"),Object(W.jsx)(ae.a.Item,{children:Object(W.jsx)("a",{href:"https://www.hayyacom.com/",children:"Website"})},"Instagram"),Object(W.jsx)(ae.a.Item,{children:Object(W.jsx)("a",{href:"https://www.instagram.com/hayyacomapp/",children:"Whatsapplink"})},"Instagram"),Object(W.jsx)(ae.a.Item,{children:Object(W.jsx)("a",{href:"./login",onClick:function(){return localStorage.removeItem("loginUser"),void localStorage.removeItem("token")},children:"Sign Out"})},"signout"),Object(W.jsxs)(oe.a.Group,{value:a,onChange:function(){return r},children:[Object(W.jsx)(oe.a.Button,{value:ue.a,children:"English"},"en"),Object(W.jsx)(oe.a.Button,{value:je.a,children:"\u0639\u0631\u0628\u0649"},"cn")]})]})}),Oe=n(333),he=n.p+"static/media/logo.ecec5d13.png",me=function(e){var t=Object(c.useState)(!1),n=Object(f.a)(t,2),a=n[0],i=n[1];return Object(W.jsxs)("nav",{className:"menuBar",children:[Object(W.jsx)("div",{className:"logo",children:Object(W.jsx)("a",{href:"#",children:Object(W.jsx)("img",{src:he,className:"logo"})})}),Object(W.jsxs)("div",{className:"menuCon",children:[Object(W.jsx)("div",{className:"leftMenu",children:Object(W.jsx)(se,{type:"horizontal"})}),Object(W.jsx)("div",{className:"rightMenu",children:Object(W.jsx)(be,{type:"horizontal"})}),Object(W.jsx)(I.a,{className:"barsMenu",type:"primary",onClick:function(){i(!0)},children:Object(W.jsx)("span",{className:"barsBtn"})}),Object(W.jsxs)(Oe.a,{title:"Basic Drawer",placement:"right",closable:!0,onClose:function(){i(!1)},visible:a,children:[Object(W.jsx)(se,{type:"inline"}),Object(W.jsx)(be,{type:"inline"})]})]})]})},xe=n(332),ve=n(330),pe=(n(180),{required:"${label} is required!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}}),fe=Object(r.b)("",(function(e){return{AddNewContacts:function(t){return e(function(e){return function(t){t({type:"ADD_NEW_CONTACT",payload:e})}}(t))}}}))((function(e){var t=Object(c.useState)(!1),n=Object(f.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)(""),s=Object(f.a)(r,2),o=s[0],l=s[1],j=Object(c.useState)(!1),d=Object(f.a)(j,2),u=(d[0],d[1]),b=Object(c.useState)(""),O=Object(f.a)(b,2),h=O[0],m=O[1];return Object(W.jsxs)("div",{children:[o&&Object(W.jsx)(Q,{type:h,message:o}),Object(W.jsx)(I.a,{type:"primary",onClick:function(){return i(!0)},children:"Add Contact"}),Object(W.jsx)(xe.a,{title:"Add new Contact",centered:!0,visible:a,footer:[],onCancel:function(){return i(!1)},children:Object(W.jsx)("div",{children:Object(W.jsxs)(y.a,{name:"nest-messages",onFinish:function(t){var n;l(""),u(!0),(n=t,V("".concat(z,"/contacts"),n)).then((function(t){u(!1),m("success"),i(!1),e.AddNewContacts(t.data)})).catch((function(e){var t=e.response.data.message;m("error"),l(t),u(!1)}))},validateMessages:pe,children:[Object(W.jsx)(y.a.Item,{name:"name",label:"Name",rules:[{required:!0}],children:Object(W.jsx)(S.a,{})}),Object(W.jsx)(y.a.Item,{name:"phoneNumber",label:"Phone Number",rules:[{required:!0}],children:Object(W.jsx)(X.a,{country:"sa"})}),Object(W.jsx)(y.a.Item,{name:"totalGuest",label:"Total No. of Guests",initialValue:1,rules:[{type:"number",min:1,required:!0}],children:Object(W.jsx)(ve.a,{})}),Object(W.jsx)(y.a.Item,{name:"totalChildren",label:"Total No. of Children",initialValue:0,rules:[{type:"number",required:!0}],children:Object(W.jsx)(ve.a,{})}),Object(W.jsx)(y.a.Item,{children:Object(W.jsx)(I.a,{type:"primary",htmlType:"submit",children:"Submit"})})]})})})]})})),ge=n(327),ye=N.a.p(ie||(ie=Object(g.a)(["\n    margin-top: 5px;\n    margin-bottom: 0px;\n    color: #f70505;\n"]))),Se=Object(r.b)("",(function(e){return{EditContacts:function(t){return e(function(e){return function(t){t({type:"EDIT_CONTACT",payload:e})}}(t))}}}))((function(e){var t=Object(c.useState)(e.contact&&JSON.parse(e.contact.phoneNumber)||""),n=Object(f.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)(""),s=Object(f.a)(r,2),o=s[0],l=s[1];return Object(W.jsx)("div",{children:Object(W.jsx)(xe.a,{title:"Edit Contact",centered:!0,visible:!0,footer:[],onCancel:function(){return e.closeModal(!1)},children:Object(W.jsx)("div",{children:Object(W.jsxs)(y.a,{name:"nest-messages",onFinish:function(t){if(console.log(t,"values"),a){var n=e.contact;n.name=t.contact.name,n.phoneNumber=a,n.totalGuest=t.contact.totalGuest,n.totalChildren=t.contact.totalChildren,function(e){return D("".concat(z,"/contacts/").concat(e.id),e)}(n).then((function(t){e.closeModal(!1),e.EditContacts(n)})).catch((function(e){console.log(e,"err")}))}else l("Number is required")},validateMessages:pe,children:[Object(W.jsx)(y.a.Item,{name:["contact","name"],label:"Name",initialValue:e.contact&&e.contact.name||"",rules:[{required:!0}],children:Object(W.jsx)(S.a,{})}),Object(W.jsxs)(y.a.Item,{name:["contact","phoneNumber"],label:"Phone Number",children:[Object(W.jsx)(X.a,{inputProps:{name:["contact","phoneNumber"],value:a},onChange:function(e){i(e),l("")}}),o&&Object(W.jsx)(ye,{children:o})]}),Object(W.jsx)(y.a.Item,{name:["contact","totalGuest"],label:"Total No. of Guests",initialValue:e.contact&&e.contact.totalGuest||1,rules:[{type:"number",required:!0}],children:Object(W.jsx)(ve.a,{})}),Object(W.jsx)(y.a.Item,{name:["contact","totalChildren"],label:"Total No. of Children",initialValue:e.contact&&e.contact.totalChildren||0,rules:[{type:"number",required:!0}],children:Object(W.jsx)(ve.a,{})}),Object(W.jsx)(y.a.Item,{children:Object(W.jsx)(I.a,{type:"primary",htmlType:"submit",children:"Submit"})})]})})})})})),Ie=(xe.a.confirm,ge.a.Column),Ne=Object(r.b)((function(e){return{contacts:e.UserReducer.contacts}}),(function(e){return{SaveContacts:function(t){return e(function(e){return function(t){t({type:"SAVE_USER_CONTACTS",payload:e})}}(t))},RemoveContact:function(t){return e((n=t,function(e){e({type:"REMOVE_CONTACT",payload:n})}));var n}}}))((function(e){var t=Object(c.useState)({}),n=Object(f.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)(!1),s=Object(f.a)(r,2),o=s[0],l=s[1],j=Object(c.useState)(""),d=Object(f.a)(j,2),u=d[0],b=d[1],O=Object(c.useState)(!1),h=Object(f.a)(O,2),m=(h[0],h[1]),x=Object(c.useState)(""),v=Object(f.a)(x,2),p=v[0],g=v[1];Object(c.useEffect)((function(){m(!0);var t,n=localStorage.getItem("loginUser");n&&(n=JSON.parse(n),(t=n.id,k("".concat(z,"/contacts/all/").concat(t))).then((function(t){var n=t.data;e.SaveContacts(n),m(!1)})).catch((function(e){console.log(e,"err");var t=e.response.data.message;g("error"),b(t),m(!1)})))}),[]);var y=function(e){var t=localStorage.getItem("event");if(t){var n={};n.contactId=e.id,n.userId=JSON.parse(localStorage.getItem("loginUser")).id,n.eventId=JSON.parse(t).id,e.id&&JSON.parse(t).id&&JSON.parse(localStorage.getItem("loginUser")).id&&function(e){return V("".concat(z,"/invitations"),e)}(n).then((function(t){var n=JSON.parse(localStorage.getItem("event")),c="\n "+n.message+" \n *\u0645\u0648\u0642\u0639 \u0627\u0644\u062d\u0641\u0644* \n "+n.locationurl+"\n  *\u0628\u0637\u0627\u0642\u0629 \u0627\u0644\u062f\u062e\u0648\u0644 \u0627\u0644\u062e\u0627\u0635\u0629 \u0628\u0643* \n "+J+"/invite/"+t.invitation.id;c=encodeURI(c);var a="https://wa.me/".concat(e.phoneNumber,"?text=").concat(c);window.open(a)})).catch((function(e){var t=e.response.data.message;g("error"),b(t),m(!1)}))}else g("error"),b("Please add event first")};return Object(W.jsxs)("div",{children:[u&&Object(W.jsx)(Q,{type:p,message:u}),o&&Object(W.jsx)(Se,{contact:a,visible:o,closeModal:function(){l(!1)}}),Object(W.jsxs)(ge.a,{dataSource:e.contacts,children:[Object(W.jsx)(Ie,{title:"Name",dataIndex:"name"},"name"),Object(W.jsx)(Ie,{title:"Phone Number",dataIndex:"phoneNumber"},"phoneNumber"),Object(W.jsx)(Ie,{title:"No. of guests",dataIndex:"totalGuest"},"totalGuest"),Object(W.jsx)(Ie,{title:"No. of childern",dataIndex:"totalChildren"},"totalChildren"),Object(W.jsx)(Ie,{title:"Action",render:function(e,t){return Object(W.jsxs)(L.b,{size:"middle",children:[Object(W.jsx)("a",{onClick:function(){return y(t)},children:"Invite"}),Object(W.jsx)("a",{onClick:function(){return i(t),void l(!0)},children:"Edit"})]},t.id)}},"action")]})]})})),Ce=Object(r.b)("",(function(e){return{AddNewContactsBulk:function(t){return e(function(e){return function(t){t({type:"ADD_NEW_CONTACT_BULK",payload:e})}}(t))}}}))((function(e){var t=Object(c.useState)(""),n=Object(f.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)(""),s=Object(f.a)(r,2),o=s[0],l=s[1],j=function(t){var n;(n=t,V("".concat(z,"/contacts/bulk"),n)).then((function(t){l("success"),i("Contacts added Successfully"),e.AddNewContactsBulk(t.data)})).catch((function(e){var t=e.response.data.message;l("error"),i(t)}))};return Object(W.jsxs)("div",{children:[a&&Object(W.jsx)(Q,{type:o,message:a}),Object(W.jsx)("div",{children:Object(W.jsx)("input",{type:"file",accept:".csv",onChange:function(e){return function(e){var t=e.target.files[0],n=new FileReader;n.readAsText(t),n.onload=function(){var e=function(e){for(var t=e.split("\n"),n=[],c=t[0].trim().split(","),a=1;a<t.length;a++)if(t[a]){for(var i={},r=t[a].split(","),s=0;s<c.length;s++)i[c[s]]=r[s];n.push(i)}return n}(n.result);j(e),console.log(e)},n.onerror=function(e){console.log("Error: ",e)}}(e)}})})]})}));var Ee,Te=N.a.div(re||(re=Object(g.a)(["\n    display: flex;\n    justify-content: space-between;\n    padding: 10px 0px;\n"]))),we=function(e){return Object(W.jsxs)("div",{children:[Object(W.jsxs)(Te,{children:[Object(W.jsx)(Ce,{}),Object(W.jsx)(fe,{})]}),Object(W.jsx)(Ne,{})]})},Ae=function(e){return function(t){t({type:"SAVE_USER_EVENTS",payload:e})}},_e=Object(r.b)("",(function(e){return{AddNewEvent:function(t){return e(function(e){return function(t){t({type:"ADD_NEW_EVENT",payload:e})}}(t))}}}))((function(e){var t=Object(c.useState)(!1),n=Object(f.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)(""),s=Object(f.a)(r,2),o=s[0],l=s[1],j=Object(c.useState)(!1),d=Object(f.a)(j,2),u=(d[0],d[1]),b=Object(c.useState)(""),O=Object(f.a)(b,2),h=O[0],m=O[1];return Object(W.jsxs)("div",{children:[o&&Object(W.jsx)(Q,{type:h,message:o}),Object(W.jsx)(I.a,{type:"primary",onClick:function(){return i(!0)},children:"Add Event"}),Object(W.jsx)(xe.a,{title:"Add new Event",centered:!0,visible:a,footer:[],onCancel:function(){return i(!1)},children:Object(W.jsx)("div",{children:Object(W.jsxs)(y.a,{name:"nest-messages",onFinish:function(t){var n;l(""),u(!0),(n=t.event,V("".concat(z,"/events"),n)).then((function(t){u(!1),m("success"),i(!1),e.AddNewEvent(t.data)})).catch((function(e){console.log(e,"err");var t=e.response.data.message;m("error"),l(t),u(!1),i(!1)}))},validateMessages:pe,children:[Object(W.jsx)(y.a.Item,{name:["event","title"],label:"Title",rules:[{required:!0}],children:Object(W.jsx)(S.a,{})}),Object(W.jsx)(y.a.Item,{name:["event","description"],label:"Description",rules:[{required:!0}],children:Object(W.jsx)(S.a,{})}),Object(W.jsx)(y.a.Item,{name:["event","locationurl"],label:"Location Url",rules:[{required:!0}],children:Object(W.jsx)(S.a,{})}),Object(W.jsx)(y.a.Item,{name:["event","invitationLink"],label:"Invitation Url",rules:[{required:!0}],children:Object(W.jsx)(S.a,{})}),Object(W.jsx)(y.a.Item,{name:["event","message"],label:"Message",rules:[{required:!0}],children:Object(W.jsx)(S.a,{})}),Object(W.jsx)(y.a.Item,{name:["event","reminderMessage"],label:"Reminder Message",rules:[{required:!0}],children:Object(W.jsx)(S.a,{})}),Object(W.jsx)(y.a.Item,{children:Object(W.jsx)(I.a,{type:"primary",htmlType:"submit",children:"Submit"})})]})})})]})})),ke=Object(r.b)("",(function(e){return{EditEvents:function(t){return e(function(e){return function(t){t({type:"EDIT_EVENT",payload:e})}}(t))}}}))((function(e){var t=Object(c.useState)(""),n=Object(f.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)(""),s=Object(f.a)(r,2),o=s[0],l=s[1];return Object(W.jsxs)("div",{children:[a&&Object(W.jsx)(Q,{type:o,message:a}),Object(W.jsx)(xe.a,{title:"Edit Events",centered:!0,visible:!0,footer:[],onCancel:function(){return e.closeModal(!1)},children:Object(W.jsx)("div",{children:Object(W.jsxs)(y.a,{name:"nest-messages",onFinish:function(t){i("");var n=e.event;n.title=t.event.title,n.description=t.event.description,n.locationurl=t.event.locationurl,n.message=t.event.message,function(e){return D("".concat(z,"/events/").concat(e.id),e)}(n).then((function(t){l("success"),e.closeModal(!1),e.EditEvents(n)})).catch((function(e){console.log(e,"err")}))},validateMessages:pe,children:[Object(W.jsx)(y.a.Item,{name:["event","title"],label:"Title",initialValue:e.event&&e.event.title||"",rules:[{required:!0}],children:Object(W.jsx)(S.a,{})}),Object(W.jsx)(y.a.Item,{name:["event","description"],label:"Description",initialValue:e.event&&e.event.description||"",rules:[{required:!0}],children:Object(W.jsx)(S.a,{})}),Object(W.jsx)(y.a.Item,{name:["event","locationurl"],label:"Location Url",initialValue:e.event&&e.event.locationurl||"",rules:[{required:!0}],children:Object(W.jsx)(S.a,{})}),Object(W.jsx)(y.a.Item,{name:["event","invitationLink"],label:"Invitation Url",initialValue:e.event&&e.event.invitationLink||"",rules:[{required:!0}],children:Object(W.jsx)(S.a,{})}),Object(W.jsx)(y.a.Item,{name:["event","message"],label:"Message",initialValue:e.event&&e.event.message||"",rules:[{required:!0}],children:Object(W.jsx)(S.a,{})}),Object(W.jsx)(y.a.Item,{name:["event","reminderMessage"],label:"Reminder Message",initialValue:e.event&&e.event.reminderMessage||"",rules:[{required:!0}],children:Object(W.jsx)(S.a,{})}),Object(W.jsx)(y.a.Item,{children:Object(W.jsx)(I.a,{type:"primary",htmlType:"submit",children:"Submit"})})]})})})]})})),Ve=(xe.a.confirm,ge.a.Column),De=Object(r.b)((function(e){return{events:e.EventReducer.events}}),(function(e){return{SaveEvents:function(t){return e(Ae(t))}}}))((function(e){var t=Object(c.useState)({}),n=Object(f.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)(!1),s=Object(f.a)(r,2),o=s[0],l=s[1],j=Object(c.useState)(""),d=Object(f.a)(j,2),u=(d[0],d[1],Object(c.useState)(!1)),b=Object(f.a)(u,2),O=(b[0],b[1],Object(c.useState)("")),h=Object(f.a)(O,2);h[0],h[1];return Object(W.jsxs)("div",{children:[o&&Object(W.jsx)(ke,{event:a,visible:o,closeModal:function(){l(!1)}}),Object(W.jsxs)(ge.a,{dataSource:e.events,children:[Object(W.jsx)(Ve,{title:"Title",dataIndex:"title"},"title"),Object(W.jsx)(Ve,{title:"Description",dataIndex:"description"},"description"),Object(W.jsx)(Ve,{title:"Location URL",dataIndex:"locationurl"},"locationurl"),Object(W.jsx)(Ve,{title:"Message",dataIndex:"message"},"message"),Object(W.jsx)(Ve,{title:"Reminder message",dataIndex:"reminderMessage"},"reminderMessage"),Object(W.jsx)(Ve,{title:"Action",render:function(e,t){return Object(W.jsx)(L.b,{size:"middle",children:Object(W.jsx)("a",{onClick:function(){return i(t),void l(!0)},children:"Edit"})},t.id)}},"action")]})]})})),Me=ge.a.Column,Re=Object(r.b)((function(e){return{invitations:e.InvitationReducer.invitations}}),(function(e){return{SaveInvitations:function(t){return e(function(e){return function(t){t({type:"SAVE_USER_INVITATIONS",payload:e})}}(t))}}}))((function(e){var t=Object(c.useState)({}),n=Object(f.a)(t,2),a=(n[0],n[1],Object(c.useState)(!1)),i=Object(f.a)(a,2),r=(i[0],i[1],Object(c.useState)("")),s=Object(f.a)(r,2),o=s[0],l=s[1],j=Object(c.useState)(!1),d=Object(f.a)(j,2),u=(d[0],d[1]),b=Object(c.useState)(""),O=Object(f.a)(b,2),h=O[0],m=O[1];Object(c.useEffect)((function(){u(!0);var t,n=localStorage.getItem("loginUser");n&&(n=JSON.parse(n),(t=n.id,k("".concat(z,"/invitations/all/").concat(t))).then((function(t){var n=t.data;e.SaveInvitations(n),u(!1)})).catch((function(e){console.log(e,"err");var t=e.response.data.message;m("error"),l(t),u(!1)})))}),[]);return Object(W.jsxs)("div",{children:[o&&Object(W.jsx)(Q,{type:h,message:o}),Object(W.jsxs)(ge.a,{dataSource:e.invitations,children:[Object(W.jsx)(Me,{title:"Name",dataIndex:["contact","name"]},"name"),Object(W.jsx)(Me,{title:"Phone Number",dataIndex:["contact","phoneNumber"]},"phoneNumber"),Object(W.jsx)(Me,{title:"No. of guests",dataIndex:["contact","totalGuest"]},"totalGuest"),Object(W.jsx)(Me,{title:"No. of childern",dataIndex:["contact","totalChildren"]},"totalChildren"),Object(W.jsx)(Me,{title:"Action",render:function(e,t){return Object(W.jsx)(L.b,{size:"middle",children:"Decline"!==t.status&&Object(W.jsx)("a",{onClick:function(){return function(e){var t=e.contact,n=JSON.parse(localStorage.getItem("event")),c="\n "+n.reminderMessage+" \n *\u0645\u0648\u0642\u0639 \u0627\u0644\u062d\u0641\u0644*\n "+n.locationurl+"\n*\u0628\u0637\u0627\u0642\u0629 \u0627\u0644\u062f\u062e\u0648\u0644 \u0627\u0644\u062e\u0627\u0635\u0629 \u0628\u0643* \n "+J+"/invite/"+e.id;c=encodeURI(c);var a="https://wa.me/".concat(t.phoneNumber,"?text=").concat(c);window.open(a)}(t)},children:"Remind"})},t.id)}},"action")]})]})})),Ue=n(103),qe=n(62),Fe=n(328),Be=N.a.div(Ee||(Ee=Object(g.a)(["\n    padding-bottom: 30px;\n"]))),ze=function(e){var t=Object(c.useState)({}),n=Object(f.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)(""),s=Object(f.a)(r,2),o=s[0],l=s[1],j=Object(c.useState)(""),d=Object(f.a)(j,2),u=d[0],b=d[1];return Object(c.useEffect)((function(){var e,t=JSON.parse(localStorage.getItem("loginUser"));(e=t.id,k("".concat(z,"/invitations/stats/").concat(e))).then((function(e){var t=e.data;i(t)})).catch((function(e){console.log(e,"err"),l("error"),b("Something went wrong please try again !!")}))}),[]),Object(W.jsxs)(Be,{children:[u&&Object(W.jsx)(Q,{type:o,message:u}),Object(W.jsx)("div",{className:"site-card-wrapper",children:Object(W.jsxs)(Ue.a,{gutter:16,children:[Object(W.jsx)(qe.a,{span:8,children:Object(W.jsx)(Fe.a,{title:"Accepted",bordered:!1,children:a&&a.acceptCount})}),Object(W.jsx)(qe.a,{span:8,children:Object(W.jsx)(Fe.a,{title:"Declined",bordered:!1,children:a&&a.declinedCount})}),Object(W.jsx)(qe.a,{span:8,children:Object(W.jsx)(Fe.a,{title:"No Response",bordered:!1,children:a&&a.nullCount})})]})})]})},Je=Object(r.b)((function(e){return{events:e.EventReducer.events}}),(function(e){return{SaveEvents:function(t){return e(Ae(t))}}}))((function(e){Object(c.useEffect)((function(){var t,n=localStorage.getItem("loginUser");n&&(n=JSON.parse(n),(t=n.id,k("".concat(z,"/events/all/").concat(t))).then((function(t){var n=t.data;e.SaveEvents(n),localStorage.setItem("event",JSON.stringify(n[0]))})).catch((function(e){console.log(e,"err")})))}),[]);return Object(W.jsxs)("div",{children:[e.events&&e.events.length?Object(W.jsxs)("div",{children:[Object(W.jsx)("h2",{children:"Events"}),Object(W.jsx)(De,{events:e.events})]}):Object(W.jsx)(_e,{}),Object(W.jsx)("h2",{children:" Stats "}),Object(W.jsx)(ze,{}),Object(W.jsx)("h2",{children:"Invitations"}),Object(W.jsx)(Re,{})]})})),Le=n(149),Ge=ce.a.Header,We=ce.a.Content,Pe=ce.a.Footer;var He,$e,Ke,Qe,Ye,Xe=Object(r.b)((function(e){return{activeTab:e.UserReducer.activeTab}}))((function(e){return Object(W.jsxs)(ce.a,{children:[Object(W.jsx)(Le.a,{titleTemplate:"%s - My App",defaultTitle:"My App",children:Object(W.jsx)("meta",{name:"description",content:"A React.js aapplication"})}),Object(W.jsx)(Ge,{style:{position:"fixed",zIndex:1,width:"100%"},children:Object(W.jsx)(me,{})}),Object(W.jsx)(We,{className:"site-layout",style:{padding:"0 50px",marginTop:64},children:Object(W.jsx)("div",{className:"site-layout-background",style:{padding:24,minHeight:380},children:"contacts"===e.activeTab?Object(W.jsx)(we,{}):"dashboard"===e.activeTab?Object(W.jsx)(Je,{}):void 0})}),Object(W.jsx)(Pe,{style:{textAlign:"center"},children:"All right reserved \xa9 Hayyacom 2016-2021"})]})})),Ze=n(198),et=n.n(Ze),tt=n(204),nt=n(52),ct=n(334),at=function(e){return Object(W.jsxs)(ae.a,{mode:e.type,children:[Object(W.jsx)(ae.a.Item,{children:Object(W.jsx)("a",{href:"https://www.instagram.com/hayyacomapp/",children:"Instagram"})},"Instagram"),Object(W.jsx)(ae.a.Item,{children:Object(W.jsx)("a",{href:"https://www.hayyacom.com/",children:"Website"})},"Website"),Object(W.jsx)(ae.a.Item,{children:Object(W.jsx)("a",{href:"https://www.instagram.com/hayyacomapp/",children:"Whatsapplink"})},"Whatsapplink")]})},it=function(e){var t=Object(c.useState)(!1),n=Object(f.a)(t,2),a=n[0],i=n[1];return Object(W.jsxs)("nav",{className:"menuBar",children:[Object(W.jsx)("div",{className:"logo",children:Object(W.jsx)("a",{href:"#",children:Object(W.jsx)("img",{src:he,className:"logo"})})}),Object(W.jsxs)("div",{className:"menuCon",children:[Object(W.jsx)("div",{className:"rightMenu",children:Object(W.jsx)(at,{type:"horizontal"})}),Object(W.jsx)(I.a,{className:"barsMenu",type:"primary",onClick:function(){i(!0)},children:Object(W.jsx)("span",{className:"barsBtn"})}),Object(W.jsx)(Oe.a,{title:"Hayyacom",placement:"right",closable:!0,onClose:function(){i(!1)},visible:a,children:Object(W.jsx)(at,{type:"inline"})})]})]})},rt=ce.a.Header,st=ce.a.Content,ot=ce.a.Footer,lt=(ce.a.Sider,Fe.a.Meta),jt=(N.a.div(He||(He=Object(g.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100vh;\n"]))),N.a.div($e||($e=Object(g.a)(["\n    display: flex;\n    justify-content: center;\n"])))),dt=N.a.div(Ke||(Ke=Object(g.a)(["\n    text-align: center;\n    padding: 10px;\n    font-size: 18px;\n"]))),ut=N.a.img(Qe||(Qe=Object(g.a)(["\n    max-width: 100%;\n    width: 100%;\n"]))),bt=N.a.div(Ye||(Ye=Object(g.a)(["\n    position: absolute;\n    z-index: 1;\n    width: 100%;\n    height: 100%;\n    top: 0px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n"]))),Ot=Object(r.b)((function(e){return{invitations:e.InvitationReducer.invitations}}),(function(e){return{}}))((function(e){var t=Object(c.useState)(!1),n=Object(f.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)({}),s=Object(f.a)(r,2),o=s[0],l=s[1],j=Object(c.useState)(""),d=Object(f.a)(j,2),u=d[0],b=d[1],O=Object(c.useState)(""),h=Object(f.a)(O,2),m=h[0],x=h[1];Object(c.useEffect)((function(){var t,n=e.match.params;(t=n.id,k("".concat(z,"/invitations/").concat(t))).then((function(e){var t=e.data;l(t)})).catch((function(e){console.log(e,"err"),b("error"),x("Something went wrong please try again !!")}))}),[]),Object(c.useEffect)((function(){if(o.event){var e=document.createElement("style");return e.innerHTML="@font-face {\n            font-family: myFont;\n            src: url(".concat(o.event.fontUrl,");\n        }"),document.head.appendChild(e),function(){document.head.removeChild(e)}}}),[o]);var v=function(e){(function(e){return D("".concat(z,"/invitations/").concat(e.id),e)})({id:o.id,status:e}).then((function(t){b("success"),x("Thanks for your response !!"),"Accept"===e&&i(!0)})).catch((function(e){b("error"),x("Something went wrong please try again !!")}))};return Object(W.jsxs)(ce.a,{className:"layout",children:[Object(W.jsx)(rt,{children:Object(W.jsx)(it,{})}),Object(W.jsxs)(st,{style:{padding:"0 50px"},children:[Object(W.jsxs)(ct.a,{style:{margin:"16px 0"},children:[Object(W.jsx)(ct.a.Item,{children:"Home"}),Object(W.jsx)(ct.a.Item,{children:"Invitation"})]}),Object(W.jsxs)("div",{className:"site-layout-content",children:[m&&Object(W.jsx)(Q,{type:u,message:m}),Object(W.jsx)(Fe.a,{style:{width:"100%"},cover:Object(W.jsx)("img",{alt:"example",src:o.event?o.event.invitationLink:""}),actions:[Object(W.jsxs)("div",{onClick:function(){return v("Accept")},children:[" ",Object(W.jsx)(tt.a,{})," ",Object(W.jsx)("span",{children:"Accept"})]}),Object(W.jsxs)("div",{onClick:function(){return v("Decline")},children:[" ",Object(W.jsx)(nt.a,{})," ",Object(W.jsx)("span",{children:"Decline"})]})],children:Object(W.jsx)(lt,{title:"Hi "+(o.contact&&o.contact.name||""),description:"You are invited to be the part of our happiness"})}),Object(W.jsxs)(xe.a,{title:"Please save QR code",centered:!0,visible:a,onCancel:function(){return i(!1)},footer:[],children:[Object(W.jsx)(ut,{src:o.event?o.event.entranceLink:""}),Object(W.jsxs)(bt,{className:"invitebody",children:[Object(W.jsx)(jt,{children:Object(W.jsx)(et.a,{size:100,value:o&&o.id,bgColor:"#ffffff",fgColor:"{invite.event ? invite.event.color:fff}"})}),Object(W.jsxs)(dt,{style:{color:o.event?"invite.event.color":"#bebebe",fontFamily:"myFont"},children:[Object(W.jsxs)("div",{children:[Object(W.jsx)("label",{children:"Invitaion ID"}),": ",Object(W.jsx)("span",{children:o.id})]}),Object(W.jsxs)("div",{children:[Object(W.jsx)("label",{children:"Name"}),": ",Object(W.jsx)("span",{children:o.contact&&o.contact.name||""})]}),Object(W.jsxs)("div",{children:[Object(W.jsx)("label",{children:"Total Guests"}),": ",Object(W.jsx)("span",{children:o.contact&&o.contact.totalGuest||""})]}),Object(W.jsxs)("div",{children:[Object(W.jsx)("label",{children:"Childrens"}),": ",Object(W.jsx)("span",{children:o.contact&&o.contact.totalChildren||0})]})]})]})]})]})]}),Object(W.jsxs)(ot,{style:{textAlign:"center"},children:[Object(W.jsxs)("p",{children:[" For more information  and customer support contact us via ",Object(W.jsx)("a",{href:"https://wa.me/966545676539",children:"Whatsapp"})," "]}),"All right reserved \xa9 Hayyacom 2016-2021"]})]})}));var ht=function(){return localStorage.getItem("token")?Object(W.jsx)(Xe,{}):Object(W.jsx)(ne,{})},mt=function(){return Object(W.jsx)("div",{children:Object(W.jsxs)(p.c,{children:[Object(W.jsx)(p.a,{exact:!0,path:"/",component:ht}),Object(W.jsx)(p.a,{exact:!0,path:"/login",component:ne}),Object(W.jsx)(p.a,{exact:!0,path:"/home",component:Xe}),Object(W.jsx)(p.a,{exact:!0,path:"/invite/:id",component:Ot})]})})},xt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,337)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))},vt=n(150);n(323);i.a.render(Object(W.jsx)(r.a,{store:v,locale:je.a,children:Object(W.jsx)(vt.a,{children:Object(W.jsx)(mt,{})})}),document.getElementById("root")),xt()}},[[324,1,2]]]);
//# sourceMappingURL=main.0b81832e.chunk.js.map